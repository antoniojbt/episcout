% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/epi_stats_contingency_2x2.R
\name{combined_contingency_2x2_functions}
\alias{combined_contingency_2x2_functions}
\alias{epi_stats_contingency_2x2_df}
\alias{epi_stats_contingency_2x2_tables}
\alias{rename_contingency_2x2_cols}
\alias{epi_stats_contingency_2x2_test}
\alias{epi_stats_contingency_2x2_cols}
\alias{epi_stats_contingency_2x2_all}
\title{Contingency Table and Statistical Test Functions}
\usage{
epi_stats_contingency_2x2_df(df, x_var, y_var)

epi_stats_contingency_2x2_tables(df, x_var)

rename_contingency_2x2_cols(contingency_2x2_list, df, x_var)

epi_stats_contingency_2x2_test(
  df,
  target_var,
  other_var,
  test_type = "fisher.test"
)

epi_stats_contingency_2x2_cols(df, min_unique = 2)

epi_stats_contingency_2x2_all(df, target_var, test_type = "fisher.test")
}
\arguments{
\item{df}{A data frame containing the data to analyze.}

\item{x_var}{A string or numeric index specifying the independent variable (column in \code{df}).}

\item{y_var}{A string or numeric index specifying the dependent variable (column in \code{df}).}

\item{target_var}{The name of the target variable (e.g., dependent variable) as a string.}

\item{other_var}{The name of the other variable to test against the target variable.}

\item{test_type}{The type of test to perform. Either \code{"fisher.test"} (default) or \code{"chisq.test"}.}

\item{min_unique}{Minimum number of unique values required to include a column for testing (default: 2).}
\item{contingency_2x2_list}{A list of contingency tables created by \code{epi_stats_contingency_2x2_tables()}.}
}
\value{
\itemize{
\item \code{epi_stats_contingency_2x2_df()}: A data frame representing the contingency table with raw frequencies.
\item \code{epi_stats_contingency_2x2_tables()}: A named list of data frames, each representing a contingency table.
\item \code{epi_stats_rename_contingency_2x2_cols()}: A list of data frames with renamed columns.
\item \code{epi_stats_contingency_2x2_test}: A tidy data frame with test results for a single 2x2 table.
\item \code{epi_stats_contingency_2x2_cols()}: A character vector of column names that meet the criteria for testing.
\item \code{epi_stats_contingency_2x2_all()}: A data frame containing test results for all selected columns.
}
}
\description{
A comprehensive set of functions to:
\itemize{
\item Generate contingency tables and summary tables.
\item Perform 2x2 contingency table significance tests.
}
}
\details{
These functions include:
\itemize{
\item \code{epi_stats_contingency_2x2_df()}: Creates a raw contingency table between two variables.
\item \code{epi_stats_contingency_2x2_tables()}: Generates a named list of contingency tables for a target variable and all other variables.
\item \code{epi_stats_rename_contingency_2x2_cols()}: Renames columns in a list of contingency tables for clarity.
\item \code{epi_stats_contingency_2x2_test()}: Performs a statistical test (Fisher's exact or Chi-squared) on a 2x2 table.
\item \code{epi_stats_contingency_2x2_cols()}: Selects suitable columns for contingency table tests.
\item \code{epi_stats_contingency_2x2_all()}: Iteratively applies the tests and aggregates results into a data frame.
}
}
\examples{
# Example dataset
set.seed(42)
col_facts <- data.frame(
  State = sample(c("Active", "Inactive"), 100, replace = TRUE),
  Gender = sample(c("Male", "Female"), 100, replace = TRUE),
  Something = sample(c("Yes", "No"), 100, replace = TRUE),
  Another = sample(c("Yes", "No", "Unknown"), 100, replace = TRUE),
  Type = sample(c("Type1", "Type2", "Type3"), 100, replace = TRUE),
  SingleValue = rep("Same", 100)
)

# Generate a contingency table for two variables
contingency_2x2_df <- epi_stats_contingency_2x2_df(col_facts, x_var = "State", y_var = "Gender")
print(contingency_2x2_df)

# Generate contingency tables for all variables
contingency_2x2_list <- epi_stats_contingency_2x2_tables(col_facts, x_var = "State")
print(contingency_2x2_list[[1]])

# Rename columns in contingency tables
renamed_list <- rename_contingency_2x2_cols(contingency_2x2_list, col_facts, x_var = "State")
print(renamed_list[[1]])

# Perform a single 2x2 test
result <- epi_stats_contingency_2x2_test(col_facts, "State", "Gender")
print(result)

# Select columns for testing
testable_columns <- epi_stats_contingency_2x2_cols(col_facts)
print(testable_columns)

# Run tests on all testable columns
results_df <- epi_stats_contingency_2x2_all(col_facts, "State")
print(results_df)

# Save results
tmp <- tempfile("fishers_results", fileext = ".txt")
write.table(results_df, tmp, sep = "\t", row.names = FALSE, quote = FALSE)
unlink(tmp)

}
