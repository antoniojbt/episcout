---
title: "Parallel bar plot utilities"
author: "OpenAI Agent"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Parallel bar plot utilities}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This vignette illustrates how to generate multiple bar plots in parallel and
save them as grids using `episcout`.

```{r}
library(episcout)

set.seed(123)
df <- data.frame(
  sex = factor(sample(c("F", "M"), 20, replace = TRUE)),
  group = factor(sample(letters[1:3], 20, replace = TRUE))
)

# create bar plots for the selected variables
plots <- epi_plot_bar_list_parallel(
  vars_to_plot = c("sex", "group"),
  data = df,
  n_cores = 1
)

# temporary directory for output
dir <- tempdir()

# save the plots in a grid layout
files <- epi_plot_bar_grid_save(
  plot_list = plots,
  results_subdir = dir,
  per_file = 2,
  n_cores = 1
)

files
```
